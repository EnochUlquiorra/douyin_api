{"version":3,"sources":["logo.svg","App.js","serviceWorker.js","index.js"],"names":["module","exports","API","layout","labelCol","span","wrapperCol","tailLayout","offset","App","Form","useForm","form","useState","loading","setLoading","device","setDevice","jsonData","setJsonData","searchKeyWorld","setSearchKeyWorld","searchDialogVisible","setSearchDialogVisible","doType","setDoType","userIdInfo","setUserIdInfo","userSecIdInfo","setUserSecIdInfo","userIdInfoDialogVisible","setUserIdInfoDialogVisible","smsLoginPhone","setSmsLoginPhone","smsLoginCode","setSmsLoginCode","smsLoginStatus","setSmsLoginStatus","smsLoginVerifyTicket","setSmsLoginVerifyTicket","smsLoginStatusMessage","setSmsLoginStatusMessage","smsLoginDialogVisible","setSmsLoginDialogVisible","useEffect","_device","localStorage","getItem","JSON","parse","className","type","onClick","setTimeout","fetch","method","then","response","json","data","setItem","stringify","console","log","catch","error","removeItem","disabled","device_id","style","height","textAlign","color","install_id","obj","showLineNumbers","visible","onCancel","title","footer","key","placeholder","value","onChange","v","target","uerInfoInput","name","Item","label","rules","required","message","maxLength","length","code","extra","toString","sendSmsCode","status","onLoginFinish","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","path","component","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.900c5b78.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, {useEffect, useState}                   from 'react';\nimport logo                                           from './logo.svg';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport {Button, Col, Form, Input, Layout, Modal, Row} from 'antd';\nimport {JsonView}                                     from 'json-view-for-react';\n\nconst API = '127.0.0.1:25008';\n\nfunction App() {\n  \n  const [form] = Form.useForm();\n  \n  const [loading, setLoading] = useState(false);\n  const [device, setDevice] = useState(null);\n  const [jsonData, setJsonData] = useState({});\n  \n  const [searchKeyWorld, setSearchKeyWorld] = useState('');\n  const [searchDialogVisible, setSearchDialogVisible] = useState(false);\n  \n  const [doType, setDoType] = useState(0);\n  const [userIdInfo, setUserIdInfo] = useState('');\n  const [userSecIdInfo, setUserSecIdInfo] = useState('');\n  const [userIdInfoDialogVisible, setUserIdInfoDialogVisible] = useState(false);\n  \n  const [smsLoginPhone, setSmsLoginPhone] = useState('');\n  const [smsLoginCode, setSmsLoginCode] = useState('');\n  const [smsLoginStatus, setSmsLoginStatus] = useState(0);\n  const [smsLoginVerifyTicket, setSmsLoginVerifyTicket] = useState('');\n  const [smsLoginStatusMessage, setSmsLoginStatusMessage] = useState('');\n  const [smsLoginDialogVisible, setSmsLoginDialogVisible] = useState(false);\n  \n  useEffect(() => {\n    \n    const _device = localStorage.getItem('device');\n    if (_device != null) {\n      setDevice(JSON.parse(_device));\n    }\n  }, []);\n  \n  function deviceRegister() {\n    if (loading) return;\n    setLoading(true);\n    setTimeout(() => {\n      fetch('http://' + API + '/api/device_register', {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setDevice(data);\n        localStorage.setItem('device', JSON.stringify(data));\n        setJsonData(data);\n        console.log(data);\n        setLoading(false);\n      }).catch(function(error) {\n        setLoading(false);\n        setDevice(null);\n        localStorage.removeItem('device');\n      });\n    }, 200);\n  }\n  \n  function getFeed() {\n    if (loading) return;\n    setLoading(true);\n    setTimeout(() => {\n      fetch('http://' + API + '/api/do/feed/' + device.device_id, {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setLoading(false);\n        setJsonData(data);\n        console.log(data);\n      }).catch(function(error) {\n        console.log(error);\n        setJsonData(error);\n        setLoading(false);\n      });\n    }, 200);\n  }\n  \n  function getDoSearch() {\n    if (loading) return;\n    setSearchDialogVisible(false);\n    setLoading(true);\n    setTimeout(() => {\n      fetch('http://' + API + '/api/do/user/search/' + device.device_id + '/' + searchKeyWorld, {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setLoading(false);\n        setJsonData(data);\n        console.log(data);\n      }).catch(function(error) {\n        console.log(error);\n        setJsonData(error);\n        setLoading(false);\n      });\n    }, 200);\n  }\n  \n  function getSearch() {\n    setSearchDialogVisible(true);\n  }\n  \n  function getDoUserInfo() {\n    if (loading) return;\n    setUserIdInfoDialogVisible(false);\n    setLoading(true);\n    setTimeout(() => {\n      fetch('http://' + API + '/api/do/user/profile/' + device.device_id + '/' + userIdInfo + '/' + userSecIdInfo, {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setLoading(false);\n        setJsonData(data);\n        console.log(data);\n      }).catch(function(error) {\n        console.log(error);\n        setJsonData(error);\n        setLoading(false);\n      });\n    }, 200);\n  }\n  \n  function getUserInfo() {\n    setDoType(1);\n    setUserIdInfoDialogVisible(true);\n  }\n  \n  function getUserPost() {\n    setDoType(2);\n    setUserIdInfoDialogVisible(true);\n  }\n  \n  function getDoUserPost() {\n    if (loading) return;\n    setUserIdInfoDialogVisible(false);\n    setLoading(true);\n    setTimeout(() => {\n      fetch('http://' + API + '/api/do/user/post/' + device.device_id + '/' + userIdInfo + '/' + userSecIdInfo, {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setLoading(false);\n        setJsonData(data);\n        console.log(data);\n      }).catch(function(error) {\n        console.log(error);\n        setJsonData(error);\n        setLoading(false);\n      });\n    }, 200);\n  }\n  \n  function getUserPromotion() {\n    setDoType(3);\n    setUserIdInfoDialogVisible(true);\n  }\n  \n  function getDoUserPromotion() {\n    if (loading) return;\n    setUserIdInfoDialogVisible(false);\n    setLoading(true);\n    setTimeout(() => {\n      fetch('http://' + API + '/api/do/user/promotion/' + device.device_id + '/' + userIdInfo + '/' + userSecIdInfo, {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setLoading(false);\n        setJsonData(data);\n        console.log(data);\n      }).catch(function(error) {\n        console.log(error);\n        setJsonData(error);\n        setLoading(false);\n      });\n    }, 200);\n  }\n  \n  function getDoUserLogin() {\n    setSmsLoginDialogVisible(true);\n  }\n  \n  return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          Douyin Api Test Tool\n        </header>\n        \n        <Row className=\"row-context\">\n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" loading={loading} onClick={() => deviceRegister()}>\n              注册设备\n            </Button>\n          </Col>\n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" disabled={device == null} loading={loading} onClick={() => getFeed()}>\n              推荐列表\n            </Button>\n          </Col>\n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" disabled={device == null} loading={loading} onClick={() => getSearch()}>\n              搜索用户\n            </Button>\n          </Col>\n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" disabled={device == null} loading={loading} onClick={() => getUserInfo()}>\n              用户信息\n            </Button>\n          </Col>\n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" disabled={device == null} loading={loading} onClick={() => getUserPost()}>\n              用户视频\n            </Button>\n          </Col>\n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" disabled={device == null} loading={loading} onClick={() => getUserPromotion()}>\n              用户橱窗\n            </Button>\n          </Col>\n          \n          <Col span={3}>\n            <Button className=\"button-function\" type=\"primary\" disabled={device == null} loading={loading} onClick={() => getDoUserLogin()}>\n              短信登录\n            </Button>\n          </Col>\n        </Row>\n        <Row className=\"row-context\" style={{height: 30}}>\n          <Col span={3}>\n            <text>设备信息:</text>\n          </Col>\n          <Col span={18} style={{textAlign: 'left'}}>\n            {device == null ?\n                <text style={{color: 'red'}}>未生成设备,请先点击注册设备</text> : <>\n                  <text>device_id:{device.device_id}</text>\n                  /\n                  <text>install_id:{device.install_id}</text>\n                </>\n            }\n          \n          </Col>\n        </Row>\n        \n        <Row style={{textAlign: 'left'}}>\n          <Col span={24}>\n            <JsonView obj={jsonData} showLineNumbers/>\n          </Col>\n        </Row>\n        \n        \n        <Modal\n            visible={searchDialogVisible}\n            onCancel={() => setSearchDialogVisible(false)}\n            title=\"请输入搜索用户的关键字\"\n            footer={[\n              <Button key=\"submit\" type=\"primary\" loading={loading} onClick={() => getDoSearch()}>\n                Submit\n              </Button>,\n            ]}\n        >\n          <div>\n            <Input placeholder=\"\" value={searchKeyWorld} onChange={(v) => setSearchKeyWorld(v.target.value)}/>\n          </div>\n        </Modal>\n        \n        <Modal\n            visible={userIdInfoDialogVisible}\n            title=\"请输入用户ID(两项必填)\"\n            onCancel={() => setUserIdInfoDialogVisible(false)}\n            footer={[\n              <Button key=\"submit\" type=\"primary\" loading={loading} onClick={() => uerInfoInput()}>\n                Submit\n              </Button>,\n            ]}\n        >\n          <div>\n            <label>user_id:(对应搜索结果字段uid,不是抖音号。注意 【用户信息】 第一次请求时没有uid，输入0即可。结果中保存uid，下次请求时要带上。其它请求两个都必须输入)</label>\n            <Input placeholder=\"\" value={userIdInfo} onChange={(v) => setUserIdInfo(v.target.value)}/>\n            <label>sec_user_id:</label>\n            <Input placeholder=\"\" value={userSecIdInfo} onChange={(v) => setUserSecIdInfo(v.target.value)}/>\n          </div>\n        </Modal>\n        \n        \n        <Modal\n            visible={smsLoginDialogVisible}\n            title=\"短信登录\"\n            onCancel={() => {\n              setSmsLoginStatus(0);\n              setSmsLoginStatusMessage('');\n              setSmsLoginVerifyTicket('');\n              setLoading(false);\n              setSmsLoginDialogVisible(false);\n            }}\n            footer={null}>\n          <Form\n              form={form}\n              {...layout}\n              name=\"basic\"\n          >\n            <Form.Item\n                label=\"手机号\"\n                name=\"phone\"\n                rules={[{required: true, message: '请输入手机号!'}]}\n            >\n              <Input value={smsLoginPhone} disabled={smsLoginStatus != 0} maxLength={11} onChange={v => setSmsLoginPhone(v.target.value)}/>\n            </Form.Item>\n            \n            <Form.Item\n                label=\"验证码\"\n                name=\"code\"\n                \n                rules={[{message: '请输入验证码!'}]}\n            >\n              <Input disabled={smsLoginStatus != 1} maxLength={6} value={smsLoginCode} onChange={v => setSmsLoginCode(v.target.value)}/>\n            </Form.Item>\n            \n            <Form.Item  {...tailLayout}>\n              \n              <text style={{color: 'red'}}>{smsLoginStatusMessage}</text>\n              <div style={{height: 10}}></div>\n              <Button type=\"primary\" disabled={smsLoginStatus != 0} loading={loading} onClick={() => sendSmsCode()}>\n                发送验证码\n              </Button>\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n              <Button type=\"primary\" loading={loading} disabled={smsLoginStatus == 0} onClick={() => onLoginFinish()}>\n                提交\n              </Button>\n            </Form.Item>\n          \n          \n          </Form>\n        </Modal>\n      \n      \n      </div>\n  );\n  \n  function uerInfoInput() {\n    if (userIdInfo == '' || userSecIdInfo == '') return;\n    return doType == 1 ? getDoUserInfo() : (doType == 2 ? getDoUserPost() : (doType == 3 ? getDoUserPromotion() : null));\n  }\n  \n  function sendSmsCode() {\n    if (smsLoginPhone == null || smsLoginPhone.length != 11) {\n      return;\n    }\n    \n    if (loading) return;\n    setLoading(true);\n    \n    setTimeout(() => {\n      fetch('http://' + API + '/api/do/login/send_sms/' + smsLoginPhone, {\n        method: 'get',\n      }).then((response) => {\n        return response.json();\n      }).then((data) => {\n        setLoading(false);\n        setJsonData(data);\n        console.log(data);\n        \n        //发送成功\n        if (data.code == 1) {\n          setSmsLoginStatusMessage('短信验证码发送成功,查收后,点击提交');\n          setSmsLoginStatus(1);\n          return;\n        }\n        //需要主动发送短信\n        if (data.code == 2030) {\n          setSmsLoginStatusMessage(data.extra + ' 点击提交');\n          setSmsLoginStatus(2);\n          setSmsLoginVerifyTicket(data.message);\n          return;\n        }\n        setSmsLoginStatusMessage(data.message);\n        \n      }).catch(function(error) {\n        console.log(error);\n        setJsonData(error);\n        setSmsLoginStatus(0);\n        setSmsLoginStatusMessage(error.toString());\n        setSmsLoginVerifyTicket('');\n        setLoading(false);\n      });\n    }, 200);\n  }\n  \n  function onLoginFinish() {\n    if (loading) return;\n    setLoading(true);\n    setTimeout(() => {\n      \n      if (smsLoginStatus == 1) {\n        fetch('http://' + API + '/api/do/login/send_sms/' + smsLoginPhone + '/' + smsLoginCode, {\n          method: 'get',\n        }).then((response) => {\n          return response.json();\n        }).then((data) => {\n          setLoading(false);\n          setJsonData(data);\n          console.log(data);\n          if (data.status == 'success') {\n            setSmsLoginDialogVisible(false);\n            setSmsLoginStatus(0);\n            setSmsLoginStatusMessage('');\n            setSmsLoginVerifyTicket('');\n            return;\n          }\n          setSmsLoginStatusMessage(' 短信验证码发送成功,查收后,点击提交(' + data.message + ')');\n        }).catch(function(error) {\n          console.log(error);\n          setJsonData(error);\n          setLoading(false);\n          setSmsLoginStatusMessage(error.toString());\n        });\n      } else if (smsLoginStatus == 2) {\n        fetch('http://' + API + '/api/do/login/up_sms/' + smsLoginPhone + '/' + smsLoginVerifyTicket, {\n          method: 'get',\n        }).then((response) => {\n          return response.json();\n        }).then((data) => {\n          setLoading(false);\n          setJsonData(data);\n          console.log(data);\n          if (data.status == 'success') {\n            setSmsLoginDialogVisible(false);\n            setSmsLoginStatus(0);\n            setSmsLoginStatusMessage('');\n            setSmsLoginVerifyTicket('');\n            return;\n          }\n          setSmsLoginStatusMessage(' 手机发短信 YZ  后,点击提交(' + data.message + ')');\n        }).catch(function(error) {\n          console.log(error);\n          setJsonData(error);\n          setLoading(false);\n          setSmsLoginStatusMessage(error.toString());\n        });\n      }\n      \n    }, 200);\n  }\n}\n\nconst layout = {\n  labelCol: {span: 4},\n  wrapperCol: {span: 20},\n};\nconst tailLayout = {\n  wrapperCol: {offset: 6, span: 18},\n};\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React                            from 'react';\nimport ReactDOM                         from 'react-dom';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport './index.css';\nimport App                              from './App';\nimport * as serviceWorker               from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n      <Router>\n        <div className=\"App\">\n          <Route path=\"/\" component={App}></Route>\n        </div>\n      </Router>\n    \n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}